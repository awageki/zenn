---
title: "URLã‹ã‚‰ç‰¹å®šã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã¦é·ç§»å…ˆã®URLã‚’ç”Ÿæˆã™ã‚‹"
emoji: "ðŸŒŠ"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["React"]
published: false
---

ã¯ã˜ã‚ã«
ã‚„ã‚ŠãŸã„ã“ã¨ã¨ã—ã¦ã¯ã€ã€Œhttps://example.com?name=hoge&id=1&id=2ã€ã¨ã„ã†ãƒšãƒ¼ã‚¸ã‚’é–‹ã„ãŸéš›ã«ã€ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®ä¸€éƒ¨ã‚’å–å¾—ã—ã¦ã€Œhttps://example.com?id=1&id=2ã€ã¨ã„ã†URLã‚’ç”Ÿæˆã—ãŸã„ã€ã¨ã„ã£ãŸã‚‚ã®ã§ã™ã€‚

ç’°å¢ƒ
React@18.2.0
react-router-dom@6.8.1

æ–¹æ³•
æ¤œç´¢ç”»é¢ã§ã€æ¤œç´¢ã«ä½¿ç”¨ã—ãŸæ¡ä»¶ã®ä¸€éƒ¨ã‚’é·ç§»å…ˆã®ãƒšãƒ¼ã‚¸ã«å¼•ãæ¸¡ã—ãŸã„ã‚±ãƒ¼ã‚¹ã§ä½¿ç”¨ã—ã¾ã—ãŸã€‚
ãªãŠã€å–å¾—ã—ãŸã„ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®æ¡ä»¶ã¯ä¸‹è¨˜ã§ã™ã€‚

- ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯å­˜åœ¨ã—ãªã„ã“ã¨ãŒã‚ã‚‹ï¼ˆæ¤œç´¢æ¡ä»¶ã¨ã—ã¦é¸ã°ã‚Œãªã‹ã£ãŸå ´åˆï¼‰
- ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯å˜ä½“ã€è¤‡æ•°ã©ã¡ã‚‰ã‚‚å–ã‚Šå¾—ã‚‹
- Reactã€React Router ã®ç’°å¢ƒ

React ã¨ React Router ã‚’ä½¿ç”¨ã—ãŸç’°å¢ƒã ã£ãŸãŸã‚ã€useSearchParams ã‚’ä½¿ç”¨ã—ã¦ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã¦ã„ã¾ã™ã€‚

`searchParams.getAll`ã§æŒ‡å®šã—ãŸãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒé…åˆ—ã®å½¢ã§å–å¾—ã§ãã‚‹ãŸã‚ã€map ã‚’ä½¿ã£ã¦ key=valuen ã®å½¢ã«æ•´å½¢ã—ã¦ã„ã¾ã™ã€‚
ã¾ãŸã€ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®é–“ã«ã¯ã€Œ&ã€ã‚’ã¤ã‘ãŸã„ãŸã‚ã€`join("&")`ã‚’ãƒ¡ã‚½ãƒƒãƒ‰ãƒã‚§ãƒ¼ãƒ³ã§ç¹‹ã’ã¦ã„ã¾ã™ã€‚
`nameQueryString`ã¨ã„ã†é–¢æ•°ã«å…¥ã‚Œã¦ã„ã‚‹ã®ã¯ã€JSX å†…ã§é–¢æ•°ã‚’å‘¼ã³å‡ºã—ã—ã¦ URL ã‚’æ¸¡ã™ãŸã‚ã§ã™ã€‚

```jsx:index.jsx
  const [searchParams] = useSearchParams();

  const nameQueryString = () => {
    const url = "https://example.com";
    const names = searchParams.getAll("name");
    if (!names) {
      return url;
    }

    return (
      url +
      "?" +
      names
        .map((name) => {
          return `name=${name}`;
        })
        .join("&")
    );
  };
```
