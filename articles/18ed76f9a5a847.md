---
title: ""
emoji: "ğŸ¡"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: []
published: false
---

## ã¯ã˜ã‚ã«
Rubyåˆå­¦è€…ã®PHPerã§ã™ã€‚
ãƒã‚§ãƒªãƒ¼æœ¬ã‚’ä¸€å‘¨ã—ãŸå¾Œã«ä½•ã‹è‰¯ã„å‹‰å¼·æ–¹æ³•ãŒãªã„ã‹èª¿ã¹ã¦ã„ãŸã¨ã“ã‚ã€ä¸‹è¨˜ã®è¨˜äº‹ã‚’è¦‹ã¤ã‘ãŸã®ã§ã‚„ã£ã¦ã¿ã¾ã—ãŸã€‚
åˆå›ã¯ã€Œã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼å•é¡Œã€ã«ã¤ã„ã¦ã€è‡ªåˆ†ãªã‚Šã«æ›¸ã„ãŸã‚³ãƒ¼ãƒ‰ã‚’æ®‹ã—ã¦ãŠãã¾ã™ã€‚
[ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã®ãƒã‚¿ã«å›°ã£ãŸã‚‰ã“ã‚Œï¼ï¼ŸRubyåˆå¿ƒè€…å‘ã‘ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°å•é¡Œã‚’é›†ã‚ã¦ã¿ãŸï¼ˆå…¨10å•ï¼‰](https://blog.jnito.com/entry/2019/05/03/121235)

## ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãªã©
- Ruby v3.1.2
â€»Railsã¯ä»Šå›ä½¿ç”¨ã—ã¦ã„ã¾ã›ã‚“

## ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ä½œæˆå•é¡Œ
ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ä½œæˆå•é¡Œã¨ã¯ä½•ã‹ã«ã¤ã„ã¦ã¯ä¼Šè—¤ã•ã‚“ã®è¨˜äº‹ã‚’å‚ç…§ãã ã•ã„ã€‚

## å›ç­”
```ruby:calendar.rb
require "date"

# class Calendar
class Calendar
  DEFAULT_DATE = Date.today

  attr_reader :target_date

  def initialize(target_date = DEFAULT_DATE)
    @target_date = target_date
  end

  # ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã§ã¯ãªãã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã®æ–¹ãŒé©æ­£ï¼Ÿâ†’ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã”ã¨ã«å€¤ãŒå¤‰ã‚ã‚‹ã‹ã‚‰
  def print_calendar
    # å¹´æœˆ
    puts @target_date.strftime('%B %Y').center(20) # ä¸€è¡Œã®æ–‡å­—åˆ—ã®é•·ã•ã‚’æŒ‡å®šã—ã¦ä¸­å¤®æƒãˆ

    # æ›œæ—¥ã‚’è¡¨ç¤º
    puts 'Su Mo Tu We Th Fr Sa'

    # æœˆæœ«ã¨æœˆåˆã®æ—¥ä»˜ã‚’å–å¾—
    this_year = @target_date.year
    this_month = @target_date.month
    first_day = Date.new(this_year, this_month, 1)
    last_day = Date.new(this_month, this_month, -1)

    # å†’é ­ã®ç©ºç™½éƒ¨åˆ†
    first_wday = first_day.wday # wday: æ›œæ—¥ã‚’è¿”ã™ï¼ˆ0-6ã€æ—¥æ›œãŒ0ï¼‰
    blank = '   ' * first_wday
    print blank # print ã¯æ”¹è¡Œã‚’åŠ ãˆãªã„

    # ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã®æ—¥ä»˜éƒ¨åˆ†ã‚’è¡¨ç¤º
    display_date(last_day, first_wday) # Ruby2.7ä»¥é™ã€selfã‚’ä»˜ã‘ãªãã¦ã‚‚OK
  end

  private

  def display_date(last_day, first_wday)
    # æ”¹è¡Œã‚’å«ã‚€é•·ã„ãƒ–ãƒ­ãƒƒã‚¯ã‚’æ›¸ãå ´åˆã¯do...end
    (1..last_day.day).each do |day| # day: æœˆã®æ—¥ã‚’è¿”ã™ï¼ˆ1-31ï¼‰
      printf('%2d ', day) # %ã®å¾Œã®æ•°å­—â†’æ¡æ•°æŒ‡å®šã€è¶³ã‚Šãªã„éƒ¨åˆ†ã«ã¯ç©ºç™½ãŒå‡ºåŠ›ã•ã‚Œã¦å³è©°ã§å‡ºåŠ›

      if ((first_wday + day) % 7).zero?
        puts "\n"
      end
    end
    puts "\n"
  end
end

# ä»Šæœˆã®ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼
this_month_calendar = Calendar.new
this_month_calendar.print_calendar
```

ä¸Šè¨˜ã®ã‚³ãƒ¼ãƒ‰ã®å‡ºåŠ›ã¯ä¸‹è¨˜ã§ã™ã€‚
```
    October 2022    
Su Mo Tu We Th Fr Sa
                   1 
 2  3  4  5  6  7  8 
 9 10 11 12 13 14 15 
16 17 18 19 20 21 22 
23 24 25 26 27 28 29 
30 31 
```

## å€‹äººçš„ã«å‹‰å¼·ã«ãªã£ãŸã¨ã“ã‚


## PHPã ã¨ã©ã†æ›¸ã‘ã‚‹ã‹
```php:calendar.php

```
