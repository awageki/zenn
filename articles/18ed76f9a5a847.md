---
title: ""
emoji: "🐡"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: []
published: false
---

## はじめに
Ruby初学者のPHPerです。
チェリー本を一周した後に何か良い勉強方法がないか調べていたところ、下記の記事を見つけたのでやってみました。
初回は「カレンダー問題」について、自分なりに書いたコードを残しておきます。
[アウトプットのネタに困ったらこれ！？Ruby初心者向けのプログラミング問題を集めてみた（全10問）](https://blog.jnito.com/entry/2019/05/03/121235)

## バージョンなど
- Ruby v3.1.2
※Railsは今回使用していません

## カレンダー作成問題
カレンダー作成問題とは何かについては伊藤さんの記事を参照ください。

## 回答
```ruby:calendar.rb
require "date"

# class Calendar
class Calendar
  DEFAULT_DATE = Date.today

  attr_reader :target_date

  def initialize(target_date = DEFAULT_DATE)
    @target_date = target_date
  end

  # クラスメソッドではなくインスタンスメソッドの方が適正？→インスタンスごとに値が変わるから
  def print_calendar
    # 年月
    puts @target_date.strftime('%B %Y').center(20) # 一行の文字列の長さを指定して中央揃え

    # 曜日を表示
    puts 'Su Mo Tu We Th Fr Sa'

    # 月末と月初の日付を取得
    this_year = @target_date.year
    this_month = @target_date.month
    first_day = Date.new(this_year, this_month, 1)
    last_day = Date.new(this_month, this_month, -1)

    # 冒頭の空白部分
    first_wday = first_day.wday # wday: 曜日を返す（0-6、日曜が0）
    blank = '   ' * first_wday
    print blank # print は改行を加えない

    # カレンダーの日付部分を表示
    display_date(last_day, first_wday) # Ruby2.7以降、selfを付けなくてもOK
  end

  private

  def display_date(last_day, first_wday)
    # 改行を含む長いブロックを書く場合はdo...end
    (1..last_day.day).each do |day| # day: 月の日を返す（1-31）
      printf('%2d ', day) # %の後の数字→桁数指定、足りない部分には空白が出力されて右詰で出力

      if ((first_wday + day) % 7).zero?
        puts "\n"
      end
    end
    puts "\n"
  end
end

# 今月のカレンダー
this_month_calendar = Calendar.new
this_month_calendar.print_calendar
```

上記のコードの出力は下記です。
```
    October 2022    
Su Mo Tu We Th Fr Sa
                   1 
 2  3  4  5  6  7  8 
 9 10 11 12 13 14 15 
16 17 18 19 20 21 22 
23 24 25 26 27 28 29 
30 31 
```

## 個人的に勉強になったところ


## PHPだとどう書けるか
```php:calendar.php

```
