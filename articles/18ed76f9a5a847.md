---
title: "Rubyåˆå­¦è€…ãŒè§£ãã€Œã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ä½œæˆå•é¡Œã€"
emoji: "ğŸ¡"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["ruby"]
published: false
---

## ã¯ã˜ã‚ã«
Rubyåˆå­¦è€…ã®PHPerã§ã™ã€‚
[ãƒ—ãƒ­ã‚’ç›®æŒ‡ã™äººã®ãŸã‚ã®Rubyå…¥é–€ï¼»æ”¹è¨‚2ç‰ˆï¼½](https://gihyo.jp/book/2021/978-4-297-12437-3)ã‚’ä¸€å‘¨ã—ãŸå¾Œã«ä½•ã‹è‰¯ã„å‹‰å¼·æ–¹æ³•ãŒãªã„ã‹èª¿ã¹ã¦ã„ãŸã¨ã“ã‚ã€ä¸‹è¨˜ã®è¨˜äº‹ã‚’è¦‹ã¤ã‘ãŸã®ã§ã‚„ã£ã¦ã¿ã¾ã—ãŸã€‚
å‚è€ƒï¼š[ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã®ãƒã‚¿ã«å›°ã£ãŸã‚‰ã“ã‚Œï¼ï¼ŸRubyåˆå¿ƒè€…å‘ã‘ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°å•é¡Œã‚’é›†ã‚ã¦ã¿ãŸï¼ˆå…¨10å•ï¼‰](https://blog.jnito.com/entry/2019/05/03/121235)

æ—¢ã«å¤šãã®æ–¹ãŒãƒãƒƒãƒˆä¸Šã«è§£ç­”ã‚’è¼‰ã›ã¦ãã‚Œã¦ã„ã¾ã™ãŒã€å€‹äººçš„ãªå‚™å¿˜éŒ²ã‚‚å…¼ã­ã¦æ®‹ã—ã¦ãŠããŸã„ã¨æ€ã„ã¾ã™ã€‚
ä»Šå›ã¯ã€Œã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ä½œæˆå•é¡Œã€ã§ã™ã€‚

## ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ä½œæˆå•é¡Œã¨ã¯
å…ƒãƒã‚¿ã¯ã€ŒãŸã®ã—ã„Rubyã€ã«è¼‰ã£ã¦ã„ã¾ã™ã€‚
https://www.amazon.co.jp/exec/obidos/ASIN/4797399848/junic05-22/
å•é¡Œã®å†…å®¹ã‚’ä¸‹è¨˜ã§ã™ã€‚
>Date ã‚¯ãƒ©ã‚¹ã‚’ä½¿ã£ã¦ã€ä»Šæœˆã®ï¼‘æ—¥ã¨æœˆæœ«ã®æ—¥ä»˜ã¨æ›œæ—¥ã‚’æ±‚ã‚ã€æ¬¡ã®ã‚ˆã†ãªå½¢å¼ã§ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚’è¡¨ç¤ºã•ã›ã¦ãã ã•ã„
```
      April 2013
 Su Mo Tu We Th Fr Sa
     1  2  3  4  5  6
  7  8  9 10 11 12 13
 14 15 16 17 18 19 20
 21 22 23 24 25 26 27
 28 29 30
```

## ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãªã©
- Ruby v3.1.2

## ã‚½ãƒ¼ã‚¹
```ruby:calendar.rb
require 'date'

# class Calendar
class Calendar
  DEFAULT_DATE = Date.today

  attr_reader :target_date

  def initialize(target_date = DEFAULT_DATE)
    @target_date = target_date
  end

  def print_calendar
    # ä¸­å¤®æƒãˆã—ãŸå¹´æœˆã‚’å‡ºåŠ›
    puts @target_date.strftime('%B %Y').center(20)

    # æ›œæ—¥ä¸€è¦§ã‚’å‡ºåŠ›
    puts 'Su Mo Tu We Th Fr Sa'

    # æœˆæœ«ã¨æœˆåˆã®æ—¥ä»˜ã‚’å–å¾—
    this_year = @target_date.year
    this_month = @target_date.month
    first_day = Date.new(this_year, this_month, 1)
    last_day = Date.new(this_month, this_month, -1)

    # å†’é ­ã®ç©ºç™½éƒ¨åˆ†ã‚’å‡ºåŠ›
    first_day_wday = first_day.wday
    blank = '   ' * first_day_wday
    print blank

    # ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã®æ—¥ä»˜éƒ¨åˆ†ã‚’å‡ºåŠ›
    print_date(last_day, first_day_wday)
  end

  private

  def print_date(last_day, first_day_wday)
    (1..last_day.day).each do |day|
      printf('%2d ', day)
      puts "\n" if ((first_day_wday + day) % 7).zero?
    end
    puts "\n"
  end
end

# ä»Šæœˆã®ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼
this_month_calendar = Calendar.new
this_month_calendar.print_calendar
```

ä¸Šè¨˜ã®ã‚³ãƒ¼ãƒ‰ã®å‡ºåŠ›ã¯ä¸‹è¨˜ã§ã™ã€‚
```
    October 2022    
Su Mo Tu We Th Fr Sa
                   1 
 2  3  4  5  6  7  8 
 9 10 11 12 13 14 15 
16 17 18 19 20 21 22 
23 24 25 26 27 28 29 
30 31 
```

## èª¬æ˜
1. ã‚¯ãƒ©ã‚¹åŒ–
ã‚¯ãƒ©ã‚¹åŒ–ã—ãŸã“ã¨ã§æŒ‡å®šæœˆã®ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚’ç°¡å˜ã«å‡ºåŠ›ã§ãã¾ã™ã€‚
2022å¹´11æœˆã®ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚’è¡¨ç¤ºã•ã›ãŸã„å ´åˆã€ä¸‹è¨˜ã§ã™ã€‚
```
next_month_calendar = Calendar.new(Date.new(2022, 11, 1))
next_month_calendar.print_calendar
```

2. private ãƒ¡ã‚½ãƒƒãƒ‰åŒ–
`print_calendar`ãƒ¡ã‚½ãƒƒãƒ‰ãŒå†—é•·ã—ã¦ã„ãŸã®ã§ç°¡æ½”ã«æ›¸ããŸã‚ã«ã€`print_date`ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½œæˆã—ã¾ã—ãŸã€‚
`each`ã®ä¸­ã¯çŸ­ã„ã‚‚ã®ã®ã€è¤‡æ•°è¡Œã‚ã‚‹ãŸã‚`do ... end`ã§æ›¸ã„ã¦ã¾ã™ã€‚
å‚è€ƒï¼š[ãƒ—ãƒ­ã‚’ç›®æŒ‡ã™äººã®ãŸã‚ã®Rubyå…¥é–€ï¼»æ”¹è¨‚2ç‰ˆï¼½](https://gihyo.jp/book/2021/978-4-297-12437-3)
ã¾ãŸã€ifæ–‡ã®ä¸­ã®å‡¦ç†ã¯ä¸€è¡Œã®ã¿ã§ã‚ã‚Šã€å†…å®¹ã‚‚ã‚·ãƒ³ãƒ—ãƒ«ãªãŸã‚ã€å¾Œç½®ifã«ã—ã¾ã—ãŸã€‚
```ruby
  def print_date(last_day, first_day_wday)
    (1..last_day.day).each do |day|
      printf('%2d ', day)
      puts "\n" if ((first_day_wday + day) % 7).zero? # å¾Œç½®if
    end
    puts "\n"
  end
```

## æ®‹èª²é¡Œ
- ãƒ†ã‚¹ãƒˆã®ä½œæˆï¼ˆå¾Œæ—¥è¿½è¨˜äºˆå®šï¼‰

## å‚è€ƒæ–‡çŒ®
- [ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã®ãƒã‚¿ã«å›°ã£ãŸã‚‰ã“ã‚Œï¼ï¼ŸRubyåˆå¿ƒè€…å‘ã‘ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°å•é¡Œã‚’é›†ã‚ã¦ã¿ãŸï¼ˆå…¨10å•ï¼‰](https://blog.jnito.com/entry/2019/05/03/121235)
- [ãŸã®ã—ã„Ruby](https://www.amazon.co.jp/exec/obidos/ASIN/4797399848/junic05-22/)
- [ãƒ—ãƒ­ã‚’ç›®æŒ‡ã™äººã®ãŸã‚ã®Rubyå…¥é–€ï¼»æ”¹è¨‚2ç‰ˆï¼½](https://gihyo.jp/book/2021/978-4-297-12437-3)